
![[Pasted image 20240121235526.png]]
보통 컴퓨터 시스템은 CPU, 메모리로 구성된 컴퓨터와 I/O DEVICE를 합친 것을 의미합니다.


메모리는 CPU의 작업 공간

CPU는 매 클럭 사이클마다 메모리에서 기계어를 하나씩 읽어 실행하게 됌
![[Pasted image 20240121235738.png]]

IO 디바이스는 각각의 CPU를 가지고 있음 이를 디바이스 컨트롤러라고 이야기함

CPU도 작업 공간인 메모리가 존재하듯이  IO디바이스도 각각의 메모리가 존재하는데 이를 로컬 버퍼라고 이야기 함

CPU는 매 클럭마다 메모리에서 인트럭션을 계속 읽음

CPU안에는 정보를 저장할 수 있는 작은 공간인 레지스터가 존재함

CPU안에 모드 비트가 존재하는데 이것이 사용자 운영체제인지 사용자 프로그램인지 구분하는 역할을 합니다.

CPU안에는 Interrupt line이라는 것이 존재하는데 메모리에서 처리하는 작업 외 IO Device에서 처리된 작업을 CPU가 받아서 마무리 해주는 역할을 위해 존재함(이거 다시 확인)
- CPU는 메모리하고 일함

CPU가 디바이스 컨트롤러에게 지시하는 역할은 누가 함?


만약 무한 루프를 도는 프로그램은 어떻게 하나요?
- IO를 하지도 않고 CPU를 계속 사용하는데 다른 작업을 처리하지 못한다.
- 이때 타임 쉐어링조차 할 수 없음
- 그래서 컴퓨터는 타이머라는 하드웨어가 존재함
- 타이머는 특정 프로그램이 CPU를 독점하는 것을 막기 위해 존재함

결국 타이머는 CPU를 계속 쓰기 위해 사용하는 것임
만약 메모리가 무한 로프를 도는 과정에서 IO가 필요하다면 스스로 정지함
- 메모리에서 IO를 직접 못하는 이유는 보안이다?

mode bit은 0이면 모니터 모드 (커널 모드) : 운영체제가 CPU에서 실핼
mode bit이 1일 때 사용자 모드

mode bit 0일 때 운영체제가 cpu에서 메모리 접근 혹은 IO Device 접근등을 처리할 수 있게 됌

사용자 프로그램이 cpu를 가지고 있을 때는 제한된 작업만 가능함

![[Pasted image 20240122001618.png]]

device driver 
- os 코드 중 각 장치별 처리를 담당
device controller
- 하드웨어
- 각 장치를 통제하는 일종은 작은 cpu


# 입출력 I/O 수행

모든 입출력 명령은 특권 명령
사용자 프로그램은 어떻게 IO를 하는가
- 시스템콜
	- 사용자 프로그램이 운영체제의 IO요청을 하는 것을 시스템 콜
- trapd

