---
cssclasses:
  - my_style_width_100
---

[[InnoDB]]에는 손실이나 장애로부터 데이터를 보호하기 위한 여러 가지 메커니즘이 탑재돼 있습니다. 
이런 매커니즘을 이용해 [[MySQL서버 혹은 MySQL]]와 무관하게 디스크나 서버 하드웨어 이슈로 InnoDB 스토리지 엔진이 자동으로 복구를 못 하는 경우도 발생할 수 있는데, 일단 한 번 문제가 생기면 복구하기 쉽지 않습니다

-> 왜
InnoDB 데이터 파일은 기본적으로 [[MySQL서버 혹은 MySQL]]가 시작될 때 항상 자동 복구를 수행한다.
이 단계에서 자동으로 복구될 수 없는 손상이 있다면 자동 복구를 멈추고 [[MySQL서버 혹은 MySQL]]는 종료돼 버린다.

이때는 MySQL 서버의 설정 파일에 `innodb_force_recovery` 시스템 변수를 설정해서 MySQl 서버를 시작해야 한다.
이 설정값은 서버가 시작될 때 [[InnoDB]] 가 데이터 파일이나 로그 파일의 손상 여부 검사 과정을 선별적으로 진행할 수 있게 된다.

- [[InnoDB]]의 로그 파일이 손생됐다면 6으로 설정하고 서버를 기동한다.
- [[InnoDB]] 테이블의 데이터 파일이 손상됐다면 1로 설정하고 서버를 기동한다.
- 어떤 부분이 문제인지 알 수 없다면 `innodb_force_recovery` 설정값을 1부터 6까지 변경하면서 재시작해본다. 
	- 단 설정값이 커질수록 그만큼 심각한 상황이어서 손실 가능성이 커지고 복구 가능성은 적어진다.

세부 설정값은 이후에 확인하기
