![[Pasted image 20240416133432.png]]

## 정의
멀티 레플리카 복제는 하나의 소스 서버에 2개 이상의 레플리카 서버를 연결한 복제 형태로, [[싱글 레플리카 복제 구성]]에서 추가적인 용도를 위해 여분의 레플리카 서버가 더 필요해졌을 때 사용하는 형태


## 용도
1. 새로 오픈될 서비스에서 사용할 MySQL 서버를 설정할 때 [[싱글 레플리카 복제 구성]]을 주로 사용
	- 서비스 초기에는 유입되는 쿼리 요청이 적기 때문에 이후 트래픽이 크게 증가하면서 소스 서버 한 대에서만 쿼리 요청을 처리하기 벅찰 때 복제 구성을 전환해 읽기 요청을 분산시키는 용도로 사용 
2. 배치, 통계, 분석 등의 여러 작업이 하나의 MySQL 서버 내에 있는 데이터에 대해 수행돼야 하는 경우
## 사용방법
정리하면 여러 용도로 나누어 사용하는 경우 + 서비스의 읽기 요청 처리를 분산하는 용도로 사용하는 경우 레플리카 서버 한 대는 예비용을 남겨둔다.
- 이러한 레플리카 서버들은 장애가 발생했을 때 최대한 빠르게 복구돼야 하며 그렇지 못한 경우 다른 레플리카 서버가 문제가 발생한 레플리카 서버로 유입되는 쿼리 요청을 전부 넘겨받아야 함
- 쿼리 요청을 넘겨받은 레플리카 서버는 별다른 문제가 없을 수 있지만, 넘겨진 쿼리 요청으로 인해 부하가 높아져 성능 저하가 발생한 경우 기존에 유입되던 쿼리 요청 및 넘겨진 쿼리 요청들 모두 원활하게 처리되지 못할 수 있다.
- 이 같은 상황을 대비해 대체 서버 및 백업 수행 용도 외에는 최소한의 용도로만 사용되는 예비용 서버 한 대를 남겨놓는 것이 좋으며 이렇게 예비용으로 남겨진 서버는 소스 서버의 대체 서버 겸 다른 레플리카 서버의 대체 서버로 사용할 수 있다. 

