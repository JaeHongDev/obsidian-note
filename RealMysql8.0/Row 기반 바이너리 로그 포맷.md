

## 정의 
MySQL 서버에서 데이터 변경이 발생했을 때 변경된 값 자체가 바이너리 로그에 기록되는 방식. 

## 특징
- MySQL 5.7.7 부터 사용하는 기본 포맷
- 모든 트랜잭션 격리 수준에서 사용 가능함
- 사용자 계정 생성, 권한 부여 및 회수, 테이블, 뷰, 트리거 생성과 같은 DDL문은 Sttement 포맷 형태로 바이너리 로그에 기록

## 장점
- [[Statement 기반 바이너리 로그 포맷]]보다 데이터를 일관되게 하는 안전한 방식이다.
- `UUID()`, `USER()`등과 같은 비확정적 함수를 사용하더라도 안전하게 복제가 가능하다.
	- 함수를 다시 실행하는 것이 아닌 결과값을 전달받아 처리하기 때문
- [[Statement 기반 바이너리 로그 포맷]]보다 락이 최소화되어 처리된다.
- 레플리카 서버에서 쿼리가 실행되는 것이 아니기 때문에 변경된 데이터가 바로 적용되므로 더 적은 락을 점유하여 처리


## 단점 
- MySQL 서버에 실행된 쿼리가 데이터를 변경할 때 많은 양의 데이터를 변경하면 변경된 데이터가 전부 기록 돼서 바이너리 로그 파일 크기가 커질 수 있다.
- 변경된 데이터가 적더라도 BLOB형태의 큰 값이 새로 저장되거나 변경되는 경우 파일 크기가 많이 커질 수 있다. 
- 레플리카 서버에 소스 서버 이벤트들이 ROW 포맷으로 넘어오면 레플리카 서버의 MySQL에서 육안으로 확인할 수 없다. 
	- mysqlbinlog 프로그램 사용 (log_slave_udpates 옵션 활성화 등 전처리가 선행 필요)




## Row 포맷 용량 최적화
Row 기반의 바이너리 포맷을 사용할지 망설이는 대표적인 이유는 `바이너리 로그 파일의 용량이 Statement 포맷을 사용할 때보다 커질 수 있다는 점이다.`

이를 극복하기 위해서 MySQL에서 두 가지 방법으로 제공합니다. 
- [[바이너리 로그 ROW 이미지]]
- 바이너리 로그 트랜잭션 압축
