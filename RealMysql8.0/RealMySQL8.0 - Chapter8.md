---
cssclasses:
  - my_style_width_100
---

인덱스는 데이터베이스 쿼리의 성능을 언급하면서 빼놓을 수 없는 부분이다.
-> 맞음

> ⚠ 학습 목표 
> 쿼리의 개발 튜닝을 설명하기 전 MySQL에서 사용 가능한 인덱스의 종류 및 특성을 학습함


인덱스의 특성과 차이는 물리 수준의 모델링을 활 때도 중요한 요소가 된다.
> 저자는 인덱스에 대한 기본 지식은 쿼리 튜닝의 기본이 된다고 설명함.


# 디스크 읽기 방식

사용된 키워드
- 랜덤 I/O
- 순차 I/O

컴퓨터의 CPU나 메모리처럼 전기적 특성을 띤 장치의 성능은 짧은 시간 동안 매우 빠른 속도로 발전했지만 디스크 같은 기계식 장치의 성능은 상당히 제한적으로 발전했다.
최근에는 자기 디스크 원판에 의존하는 하드 디스크가 아닌 SSD 드라이브가 많이 활용되고 있지만, 여전히 데이터 저장 매체는 컴퓨터에서 가장 느린 부분이라는 사실에는 변함이 없다 

데이터베이스의 성능 튜닝은 어떻게 디스크 I/O를 줄이느냐가 관건일 대가 상당히 많다.
-  데이터 저장 매체는 컴퓨터에서 가장 느린 부분이기 때문
-  전기적 특성을 띤 장치인 CPU, 메모리는 빠르게 발전했지만 디스크 같은 기계식 장치는 제한적으로 발전함.
- SSD가 나왔지만 그래도 느린 편임


## 하드 디스크 드라이브(HDD) 와 솔리드 스테이트 드라이브(SSD)
컴퓨터에서 CPU나 메모리 같은 주요 장치는 대부분 전자식 장치지만 하드 디스크 드라이브는 기계식 장치다. 
그래서 데이터베이스 서버에서는 항상 디스크 장치가 병목이 된다.
-> 기계식 장치이기 때문에 병목이 발생하는 건가요?
-> 이러한 기계식 하드 디스크 드라이브를 대체하기 위해 전자식 저장 매체인 SSD가 많이 출시되고 있습니다.


SSD는 기존 하드 디스크 드라이브에서 데이터 저장용 플래터(원판)를 제거하고 그 대신 플래시 메모리를 장작하고 있습니다.
- 원판을 회전시킬 필요가 없기 때문에 데이터를 빠르게 읽고 쓸 수 있다.
- 물리적인 삭제가 발생하지 않는다. ( 이거 맞나? )
- 컴퓨터 메모리 보다 느리지만 기계식 하드 디스크 드라이브보다는 훨씬 빠르다.

디스크의 헤더를 움직이지 않고 한 번에 많은 데이터를 읽는 순차 I/O에서는 SSD가 하드 디스크 드라이브보다 조금 빠르거나 거의 비슷한 성능을 보이기도 한다. 
하지만 SSD의 장점은 기존 하드 디스크 드라이브보다 랜덤 I/O가 훨씬 빠르다는 것이다.
데이터베이스 서버에서 순차 I/O 작업은 그다지 비중이 크지 않고 랜덤 IO를 통해 작은 데이터를 읽고 쓰는 작업이 대부분이므로 SSD의 장점은 DBMS용 스토리지에 최적이라고 볼 수 있다.

일반적인 웹 서비스 환경의 데이터베이스에서는 SSD가 하드 디스크드라이브 보다는 훨씬 빠르다.


## 랜덤 I/O와 순차 I/O
https://hudi.blog/storage-and-random-sequantial-io/

랜덤 I/O라는 표현은 하드 디스크 드라이브의 플래터를 돌려서 읽어야 할 데이터가 저장된 위치로 디스크 헤더를 이동시킨 다음 데이터를 읽는 것을 의미합니다. 
순차 I/O도 디스크 헤더를 이동시켜 데이터를 읽는 방식은 동일하다.

순차 I/O는 3개의 페이지(3x16kb)를 디스크에 기록하기 위해 1번 시스템 콜을 요청했지만, 랜덤 I/O는 3개의 페이지 디스크에 기록하기 위해 3번 시스템 콜을 요청했다. 
즉, 디스크에 기록해야 할 위치를 찾기 위해 순차 I/O는 디스크의 헤드를 1번 움직였고, 랜덤 I/O는 디스크 헤드를 3번 움직였다.
-> <u>디스크에 데이터를 쓰고 읽는 데 걸리는 시간은 디스크 헤더를 움직여서 읽고 쓸 위치로 옮기는 단계에서 결정된다.</u>
그래서 순차 IO는 랜덤 IO보다 3배 빠르다고 할 수 있다.
