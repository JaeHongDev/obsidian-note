![[Pasted image 20240430121600.png]]
Before 일관성 수준에서 읽기 전용 및 읽기-쓰기 트랜잭션은 모든 선행 트랜잭션이 완료될 떄까지 대기 후 처리된다. 

> [!NOTE] 선행 트랜잭션
> 트랜잭션이 실행된 그룹 멤버에서의 선행 트랜잭션만을 의미함
> T1이 끝나야 T2가 실행

## 특징
1. Before 일관성 수준으로 설정된 읽기 전용 및 읽기-쓰기 트랜잭션은 항상 최신 데이터를 읽는다.
2. 항상 최신 데이터를 읽도록 하기 위해 트랜잭션이 처리 될 때 선행 트랜잭션이 완료될 때 까지 대기한다.
3. 대기가 발생하는 만큼 처리 시간이 지연될 수 있다. (물론 선행 트랜잭션 처리 시간이 짧은 경우 유의미한 지연은 아님)
5. MySQL에서 이를 막기 위해 `wait_timeout` 시스템 변수를 둬서 대기 시간이 초과하는 경우 `EG_GR_HOLD_WAIT_TIMEOUT` 에러를 발생 시킨다. 
6. ==주로 반드시 최신 데이터를 읽어야 하며, 읽기 요청은 적고 쓰기 요청이 많은 경우 사용하는 것이 좋다.==
7. BEFORE 일관성 수준에서는 `BEFORE_ON_PRIMARY_FAILOVER` 수준이 제공하는 일관성 보장 