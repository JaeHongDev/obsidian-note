
JPA가 제공하는 기능은 
- 엔티티와 테이블을 매핑하는 설계 부분
- 매핑한 엔티티를 실제 사용하는 부분
위 두가지 방법으로 나눌 수 있습니다. 


매핑한 엔티티를 엔티티 매니저를 통해서 관리한다. 

> [!NOTE] 학습목표
> 
> 엔티티 매니저를 통해 어떻게 매핑한 엔티티를 관리하는지 학습함



데이터베이스를 하나만 사용하는 애플리케이션은 일반적으로 EntityManagerFactory를 하나만 생성한다.

![[Pasted image 20240513012955.png]]
- 비용이 큰 작업
	- [[EntityManagerFactory를 만드는건 왜 비용이 큰 작업인가요?]]
![[Pasted image 20240513013103.png]]

엔티티 매니저를 생성하는 것은 비용이 큰 작업이 아님
엔티티 매니저의 특징으로
- 엔티티 매니저 팩토리는 여러 스레드가 동시에 접근해도 안전한 반면 엔티티 매니저는 여러 스레드가 동시에 접근하면 동시성 문제가 발생하므로 스레드 간에 절대 공유하면 안된다.
- 엔티티 매니저는 데이터베이스 연결 시점까지 커넥션을 얻지 않는다.
![[Pasted image 20240513013250.png]]

- 🤔 스레드 개수에 맞춰 무한정 EntityManager를 생성할 수 있는가?


- [[영속성 컨텍스트]]
- [[엔티티의 생명주기]]
- [[플러시]]
- [[준영속]]