## 선행
- [[소스 서버]] 바이너리 로그 활성화
- MySQL 서버가 고유한 server_id값을 가져야 함
- 필요에 따라 설정 가능
	- 바이너리 로그 동기화 방식
	- 바이너리 로그 캐시 메모리크기
	- 바이너리 로그 파일 크기
	- 보관 주기
![[Pasted image 20240408213335.png]]


> sync_binlog는 뭐지?
- sync_binlog: 
	1. 동기화 전에 모든 바이너리 로그 커밋 그룹에 대해서 지연을 설정 (조금 더 찾기)


아래 명령을 통해서 등록된 바이너리 로그를 확인할 수 있습니다.
![[Pasted image 20240408213907.png]]


레플리카 서버 설정
```mysql
[mysqld]
server_id=2
relay_log=/relay-log-dir-path/relay-log-namerelay_log_purge=ON
read_only
log_slave_updates
```


- realy_log: 릴레이 로그 파일 위치 혹은 파일명
- read_only: 레플리카 서버를 읽기 전용으로 설정
- log_slave_updates: 소스 서버의 장애로 레플리카 서버가 소스 서버로 승격시키는 옵션

